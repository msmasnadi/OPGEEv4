<?xml version="1.0" encoding="UTF-8"?>
<!-- Working draft of Geologic Hydrogen production pathway XML file format -->
<!-- This file contains the standard OPGEEv4 LCA model. The metadata describing fields, options,
     and default values is found in attributes.xml. When creating a new model, the user can start
     with the standard model and add/delete/alter elements in a separate file, or simply save copy
     and modify this file. We also (will) support site- and user-specific XML template files that
     define custom starting points.
     -->
<Model schema_version="4.0.0.a" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="opgee.xsd">

	<Analysis name="template-h2">
		<FieldRef name="template-h2" />
	</Analysis>

	<Field name="template-h2">
		<Process class="Boundary" boundary="Production" />
		<Process class="Boundary" boundary="Transportation" />
		<Process class="Boundary" boundary="Distribution" />

		<ProcessChoice name="gas_processing_path">
			<ProcessGroup name="PSA">
                <ProcessRef name="Exploration" />
                <ProcessRef name="Drilling" />
				<ProcessRef name="Reservoir" />
				<ProcessRef name="ReservoirWellInterface" />
				<ProcessRef name="DownholePump" />
				<ProcessRef name="Separation" />
				<ProcessRef name="WaterTreatment" />
                <ProcessRef name="PressureSwingAdsorption" />
                <ProcessRef name="OnsiteElectricityGeneration" />
                <ProcessRef name="GasReinjectionCompressor"/>
                <ProcessRef name="GasReinjectionWell"/>

				<StreamRef name="Reservoir => ReservoirWellInterface" />
				<StreamRef name="ReservoirWellInterface => DownholePump" />
				<StreamRef name="DownholePump => Separation" />
				<StreamRef name="Separation => WaterTreatment" />
                <StreamRef name="Separation => PressureSwingAdsorption" />
                <StreamRef name="PressureSwingAdsorption => OnsiteElectricityGeneration" />
                <StreamRef name="OnsiteElectricityGeneration => ProductionBoundary" />
                <StreamRef name="OnsiteElectricityGeneration => GasReinjectionCompressor" />
                <StreamRef name="GasReinjectionCompressor => GasReinjectionWell" />
			</ProcessGroup>
		</ProcessChoice>

		<Aggregator name="ExplorationAndDrilling">
			<Process class="Exploration" after="true" />
			<Process class="Drilling" after="true" />
		</Aggregator>

		<Aggregator name="ProductionExtraction">
			<Process class="ReservoirWellInterface" cycle-start="true" />
			<Process class="DownholePump" />
			<Process class="Separation" impute-start="true" />
		</Aggregator>

		<Aggregator name="SurfaceProcessing">
			<Process class="WaterTreatment" />
            <Process class="PressureSwingAdsorption" />
            <Process class="OnsiteElectricityGeneration"/>
            <Process class="GasReinjectionCompressor" />
			<Process class="GasReinjectionWell" />
		</Aggregator>

		<Stream src="Exploration" dst="Drilling">
			<Contains>None</Contains>
		</Stream>

		<Stream src="Reservoir" dst="ReservoirWellInterface">
			<Contains>oil</Contains>
		</Stream>

		<Stream src="ReservoirWellInterface" dst="DownholePump">
			<Contains>oil</Contains>
		</Stream>

		<Stream src="DownholePump" dst="Separation">
			<Contains>oil</Contains>
		</Stream>

		<Stream src="Separation" dst="WaterTreatment">
			<Contains>water</Contains>
		</Stream>

		<Stream src="Separation" dst="PressureSwingAdsorption">
			<Contains>gas</Contains>
		</Stream>

        <Stream src="PressureSwingAdsorption" dst="OnsiteElectricityGeneration">
			<Contains>gas</Contains>
		</Stream>

        <Stream src="OnsiteElectricityGeneration" dst="ProductionBoundary">
			<Contains>H2</Contains>
		</Stream>

        <Stream src="OnsiteElectricityGeneration" dst="GasReinjectionCompressor">
			<Contains>gas</Contains>
		</Stream>

		<Stream src="GasReinjectionCompressor" dst="GasInjectionWell">
			<Contains>gas</Contains>
		</Stream>

	</Field>

</Model>