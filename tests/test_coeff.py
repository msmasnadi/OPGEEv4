import pytest
import pandas as pd
from opgee.process import run_corr_eqns


def test_run_corr_eqns():
    df = pd.DataFrame(index=["intercept", 'x1', 'x2', 'x3', 'x4', 'x5', 'x1*x2', 'x1*x3',
                             'x1*x4', 'x1*x5', 'x2*x3', 'x2*x4', 'x2*x5', 'x3*x4',
                             'x3*x5', 'x4*x5', 'x1**2', 'x2**2', 'x3**2', 'x4**2', 'x5**2'],
                      # columns=["a", "b"],
                      data={"a": [-0.27681, 0.0021697, -0.051166, 3098.8, -0.011716, 0.0098877, -0.000049723, 0.054335,
                                  -0.00043215, 0.00000023389, 2.8942, 0.011162, -0.000044607, 69.394, -7.8131,
                                  -0.00023773,
                                  0.00000098932, 0.00062898, -41372, -0.037419, -0.000011238],
                            "b": [-0.0048379, -0.0000018578, 0.000017634, 36.007, -0.000048814,
                                  0.00000045508, 0.000000010229, -0.00093692, 0.0000000087422, 0.0000000056977,
                                  0.016479, 0.00000027865, -0.00000011193, -0.00016548, -0.015255, 0.0000000076148,
                                  -0.00000000010435, -0.000000030978, 4.185, 0.0000028812, 0.0000000091332]})
    result = run_corr_eqns(500, 90, 0.00181, 2, 200, df)
